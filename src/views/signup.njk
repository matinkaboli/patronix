{% extends './layouts/index.njk' %}

{% block head %}
<link rel="stylesheet" href="/files/css/signup.css">
{% endblock %}

{% block content %}
  <form
    method="post"
    action="/signup"
    name="signup-form"
    onsubmit="return checkForm()">
    <input
      type="email"
      name="email"
      placeholder="ایمیل"
      required>
    <input
      type="password"
      name="password"
      placeholder="رمز ورود"
      maxlength="200"
      required>
    <input
      type="text"
      name="fname"
      placeholder="نام"
      required>
    <input
      type="text"
      name="lname"
      placeholder="نام خانوادگی"
      required>
    {{ captcha | safe }}
    <input
      type="text"
      name="captcha"
      placeholder="کد امنیتی"
      maxlength="10"
      required>
    <input
      type="submit"
      value="عضویت">
  </form>
  <button id="change-captcha">تغییر کد امنیتی</button>
  <a href="/login">ورود</a>
  <a href="/resend">دوباره فرستادن کد</a>
{% endblock %}

{% block scripts %}
{% for item in error %}
<script>
  swal({
    title: 'خطا',
    text: "{{ item }}",
    icon: 'error',
    button: 'باشه'
  });
</script>
{% endfor %}
{% for i in email %}
  <script>
    document.forms['signup-form'].email.value = "{{ i }}";
  </script>
{% endfor %}
  <script src="/files/js/validator.js"></script>
  <script src="/files/js/recaptcha.js"></script>
  <script src="/files/js/register.js"></script>
{% endblock %}
