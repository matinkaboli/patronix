{% extends './layouts/index.njk' %}

{% block head %}
<link rel="stylesheet" href="/files/css/alert.css">
<link rel="stylesheet" href="/files/css/inputs.css">
{% endblock %}

{% block content %}
  <div class="alert" id="error">
  </div>
  <div class="alert" id="warn">
  </div>
  <div class="alert" id="success">
  </div>
  <form
    method="post"
    action="/signup"
    name="signup-form"
    onsubmit="return checkForm()">
    <input
      type="email"
      name="email"
      placeholder="ایمیل"
      required>
    <input
      type="password"
      name="password"
      placeholder="رمز ورود"
      maxlength="200"
      required>
    <input
      type="text"
      name="fname"
      placeholder="نام"
      required>
    <input
      type="text"
      name="lname"
      placeholder="نام خانوادگی"
      required>
    {{ captcha | safe }}
    <input
      type="text"
      name="captcha"
      placeholder="کد امنیتی"
      maxlength="10"
      required>
    <input
      type="submit"
      value="عضویت">
  </form>
  <button id="change-captcha">تغییر کد امنیتی</button>
  <a href="/login">ورود</a>
  <a href="/resend">دوباره فرستادن کد</a>
{% endblock %}

{% block scripts %}
{% for i in e %}
{% if i == '2' %}
<script>
  const divE = document.getElementById('error');
  const p = document.createElement('p');
  p.innerHTML = 'همچین حسابی وجود ندارد.';
  divE.appendChild(p);
  divE.style.display = 'block';
</script>
{% endif %}
{% endfor %}  
  <script src="/files/js/lib/validator.js"></script>
  <script src="/files/js/recaptcha.js"></script>
  <script src="/files/js/checkSignup.js"></script>
{% endblock %}
